(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{646:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1154:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2219:(e,s,t)=>{Promise.resolve().then(t.bind(t,7303))},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2919:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5169:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},5899:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>n,d:()=>i});var r=t(5155),a=t(2115);let o=(0,a.createContext)(),n=e=>{let{children:s}=e,[t,n]=(0,a.useState)([]),i=e=>{n(s=>s.filter(s=>s.id!==e))};return(0,r.jsxs)(o.Provider,{value:{addToast:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=Date.now()+Math.random();n(r=>[...r,{id:t,message:e,type:s}]),setTimeout(()=>{i(t)},3e3)}},children:[s,(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,r.jsx)("div",{className:"px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ".concat("success"===e.type?"bg-green-500 text-white":"error"===e.type?"bg-red-500 text-white":"bg-vibe-cookie text-vibe-brown"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,r.jsx)("button",{onClick:()=>i(e.id),className:"ml-4 text-white hover:text-gray-200",children:"\xd7"})]})},e.id))})]})},i=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},7303:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(5155),a=t(2115),o=t(5695),n=t(6874),i=t.n(n),l=t(646),c=t(5169),d=t(2919),u=t(8749),m=t(2657),h=t(1154),x=t(5899);function b(){let e=(0,o.useSearchParams)(),s=(0,o.useRouter)(),{addToast:t}=(0,x.d)(),[n,b]=(0,a.useState)({password:"",confirmPassword:""}),[w,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[k,P]=(0,a.useState)("");(0,a.useEffect)(()=>{let r=e.get("token");r?P(r):(t("Invalid reset link. Token is missing.","error"),s.push("/forgot-password"))},[e,s,t]);let A=e=>{b({...n,[e.target.name]:e.target.value})},C=e=>({length:e.length>=6,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/\d/.test(e)}),S=async e=>{e.preventDefault();let{password:r,confirmPassword:a}=n;if(!r||!a)return void t("Please fill in all fields","error");if(r!==a)return void t("Passwords do not match","error");let o=C(r);if(!o.length||!o.uppercase||!o.lowercase||!o.number)return void t("Password must be at least 6 characters with uppercase, lowercase, and number","error");y(!0);try{let e=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:k,password:r})}),a=await e.json();e.ok&&a.success?(N(!0),t("Password reset successfully!","success"),setTimeout(()=>{s.push("/login")},3e3)):t(a.message||"Failed to reset password","error")}catch(e){console.error("Reset password error:",e),t("Network error occurred. Please try again.","error")}finally{y(!1)}};if(j)return(0,r.jsx)("div",{className:"min-h-screen bg-vibe-bg flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,r.jsx)(l.A,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-vibe-brown mb-4",children:"Password Reset Successful!"}),(0,r.jsx)("p",{className:"text-vibe-brown/70 mb-6",children:"Your password has been successfully reset. You can now log in with your new password."}),(0,r.jsx)("p",{className:"text-sm text-vibe-brown/60 mb-4",children:"Redirecting to login page in 3 seconds..."}),(0,r.jsx)(i(),{href:"/login",className:"inline-flex items-center px-6 py-3 bg-vibe-cookie text-vibe-brown font-semibold rounded-lg hover:bg-vibe-brown hover:text-white transition-colors",children:"Go to Login"})]})});let E=C(n.password);return(0,r.jsx)("div",{className:"min-h-screen bg-vibe-bg flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(i(),{href:"/login",className:"inline-flex items-center text-vibe-brown hover:text-vibe-cookie transition-colors mb-4",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back to Login"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-vibe-brown mb-2",children:"Reset Password"}),(0,r.jsx)("p",{className:"text-vibe-brown/70",children:"Enter your new password below."})]}),(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-vibe-brown mb-2",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"password",name:"password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:A,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-vibe-cookie/30 placeholder-gray-500 text-vibe-brown rounded-lg focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"Enter your new password",disabled:v}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:v,children:w?(0,r.jsx)(u.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"})})]}),n.password&&(0,r.jsxs)("div",{className:"mt-2 text-xs space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center ".concat(E.length?"text-green-600":"text-red-600"),children:[(0,r.jsx)("span",{className:"mr-1",children:E.length?"✓":"✗"}),"At least 6 characters"]}),(0,r.jsxs)("div",{className:"flex items-center ".concat(E.uppercase?"text-green-600":"text-red-600"),children:[(0,r.jsx)("span",{className:"mr-1",children:E.uppercase?"✓":"✗"}),"One uppercase letter"]}),(0,r.jsxs)("div",{className:"flex items-center ".concat(E.lowercase?"text-green-600":"text-red-600"),children:[(0,r.jsx)("span",{className:"mr-1",children:E.lowercase?"✓":"✗"}),"One lowercase letter"]}),(0,r.jsxs)("div",{className:"flex items-center ".concat(E.number?"text-green-600":"text-red-600"),children:[(0,r.jsx)("span",{className:"mr-1",children:E.number?"✓":"✗"}),"One number"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-vibe-brown mb-2",children:"Confirm New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:A,className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-vibe-cookie/30 placeholder-gray-500 text-vibe-brown rounded-lg focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"Confirm your new password",disabled:v}),(0,r.jsx)("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:v,children:f?(0,r.jsx)(u.A,{className:"h-5 w-5"}):(0,r.jsx)(m.A,{className:"h-5 w-5"})})]}),n.confirmPassword&&n.password!==n.confirmPassword&&(0,r.jsx)("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]}),(0,r.jsx)("button",{type:"submit",disabled:v||!k,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-vibe-cookie hover:bg-vibe-brown focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-vibe-cookie disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Resetting Password..."]}):"Reset Password"})]})]})})}let w=()=>(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-vibe-bg text-vibe-brown",children:"Loading..."}),children:(0,r.jsx)(b,{})})},8749:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var r=t(2115);let a=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&t.indexOf(e)===s).join(" ")};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:s,...o,width:n,height:n,stroke:t,strokeWidth:l?24*Number(i)/Number(n):i,className:a("lucide",c),...m},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(d)?d:[d]])}),i=(e,s)=>{let t=(0,r.forwardRef)((t,o)=>{let{className:i,...l}=t;return(0,r.createElement)(n,{ref:o,iconNode:s,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...l})});return t.displayName="".concat(e),t}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=2219)),_N_E=e.O()}]);