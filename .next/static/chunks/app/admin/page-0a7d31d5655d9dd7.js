(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1991:(e,t,s)=>{Promise.resolve().then(s.bind(s,3119))},3119:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(5155),r=s(5028),i=s(2115),c=s(5695),n=s(6766),l=s(7340),d=s(4835),o=s(4576),x=s(7580),p=s(7108),m=s(7809),u=s(3109),h=s(2657),g=s(4616),b=s(5868),v=s(7924),j=s(5899);let y=()=>{let[e,t]=(0,i.useState)("dashboard"),[s,r]=(0,i.useState)(!0),[y,f]=(0,i.useState)(!1),[w,N]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),[A,C]=(0,i.useState)([]),[E,P]=(0,i.useState)([]),[D,O]=(0,i.useState)([]),[I,_]=(0,i.useState)([]),[R,T]=(0,i.useState)([]),[L,U]=(0,i.useState)(1),[q,M]=(0,i.useState)(1),[z,F]=(0,i.useState)(""),[J,B]=(0,i.useState)(""),H=(0,c.useRouter)(),{addToast:V}=(0,j.d)(),G=()=>{let e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}};(0,i.useEffect)(()=>{f(!0)},[]),(0,i.useEffect)(()=>{y&&(async()=>{try{let t=localStorage.getItem("token");if(!t)return void H.push("/login");let s=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/auth/me",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!s.ok){localStorage.removeItem("token"),localStorage.removeItem("user"),H.push("/login");return}let a=await s.json();if(a.success){var e;let t=a.data.role||(null==(e=a.data.user)?void 0:e.role);"admin"===t?(N(a.data),r(!1)):(V("Access denied. Admin privileges required.","error"),H.push("/profile"))}else H.push("/login")}catch(e){console.error("Auth check error:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),H.push("/login")}})()},[y,H,V]),(0,i.useEffect)(()=>{w&&"dashboard"===e&&W()},[w,e,W]),(0,i.useEffect)(()=>{if(w)switch(e){case"users":Y();break;case"products":K();break;case"orders":Q();break;case"coupons":X();break;case"reviews":Z()}},[w,e,L,z,J,Y,K,Q,X,Z]);let W=(0,i.useCallback)(async()=>{try{let e=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/dashboard",{headers:G()});if(e.ok){let t=await e.json();console.log("Dashboard data received:",t.data),S(t.data)}}catch(e){console.error("Error loading dashboard stats:",e),V("Error loading dashboard data","error")}},[V]),Y=(0,i.useCallback)(async()=>{try{let e=new URLSearchParams({page:L,limit:10,search:z,status:J}),t=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/users?".concat(e),{headers:G()});if(t.ok){let e=await t.json();C(e.data.users),M(e.data.pagination.totalPages)}}catch(e){console.error("Error loading users:",e),V("Error loading users","error")}},[L,z,J,V]),K=(0,i.useCallback)(async()=>{try{let e=new URLSearchParams({page:L,limit:10,search:z,status:J}),t=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/products?".concat(e),{headers:G()});if(t.ok){let e=await t.json();P(e.data.products),M(e.data.pagination.totalPages)}}catch(e){console.error("Error loading products:",e),V("Error loading products","error")}},[L,z,J,V]),Q=(0,i.useCallback)(async()=>{try{let e=new URLSearchParams({page:L,limit:10,search:z,status:J}),t=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/orders?".concat(e),{headers:G()});if(t.ok){let e=await t.json(),s=e.data.orders;O(s),M(e.data.pagination.totalPages)}}catch(e){console.error("Error loading orders:",e),V("Error loading orders","error")}},[L,z,J,V]),X=(0,i.useCallback)(async()=>{try{let e=new URLSearchParams({page:L,limit:10,status:J}),t=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/coupons?".concat(e),{headers:G()});if(t.ok){let e=await t.json();_(e.data.coupons),M(e.data.pagination.totalPages)}}catch(e){console.error("Error loading coupons:",e),V("Error loading coupons","error")}},[L,J,V]),Z=(0,i.useCallback)(async()=>{try{let e=new URLSearchParams({page:L,limit:10,status:J}),t=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/reviews/admin?".concat(e),{headers:G()});if(t.ok){let e=await t.json();T(e.data.reviews),M(e.data.pagination.totalPages)}}catch(e){console.error("Error loading reviews:",e),V("Error loading reviews","error")}},[L,J,V]),$=async(e,t)=>{try{(await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/users/".concat(e,"/status"),{method:"PUT",headers:G(),body:JSON.stringify({isActive:!t})})).ok?(V("User ".concat(t?"deactivated":"activated"," successfully"),"success"),Y()):V("Error updating user status","error")}catch(e){console.error("Error updating user status:",e),V("Error updating user status","error")}},ee=async(e,t)=>{try{(await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/orders/".concat(e,"/status"),{method:"PUT",headers:G(),body:JSON.stringify({status:t})})).ok?(V("Order status updated successfully","success"),Q()):V("Error updating order status","error")}catch(e){console.error("Error updating order status:",e),V("Error updating order status","error")}},et=async(e,t)=>{try{let s=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/reviews/admin/".concat(e,"/status"),{method:"PUT",headers:G(),body:JSON.stringify({isActive:t})});if(s.ok)V("Review ".concat(t?"activated":"deactivated"," successfully"),"success"),Z();else{let e=await s.json();V(e.message||"Error updating review status","error")}}catch(e){console.error("Error updating review status:",e),V("Error updating review status","error")}},es=async(e,t)=>{if(confirm("Are you sure you want to delete this ".concat(e,"?")))try{if((await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/admin/".concat(e,"/").concat(t),{method:"DELETE",headers:G()})).ok)switch(V("".concat(e.charAt(0).toUpperCase()+e.slice(1)," deleted successfully"),"success"),e){case"users":Y();break;case"products":K();break;case"coupons":X()}else V("Error deleting ".concat(e),"error")}catch(t){console.error("Error deleting ".concat(e,":"),t),V("Error deleting ".concat(e),"error")}};return!y||s?(0,a.jsx)("div",{className:"min-h-screen bg-vibe-bg flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-vibe-brown text-xl",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-vibe-bg",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-vibe-cookie",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-vibe-brown",children:"Admin Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>H.push("/"),className:"flex items-center space-x-2 text-vibe-brown hover:text-vibe-cookie transition-colors",title:"Go to Home Page",children:[(0,a.jsx)(l.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Home"})]}),(0,a.jsxs)("span",{className:"text-vibe-brown",children:["Welcome, ",null==w?void 0:w.firstName]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),H.push("/login"),V("Logged out successfully","success")},className:"flex items-center space-x-2 text-vibe-brown hover:text-vibe-cookie transition-colors",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm mb-8",children:[{id:"dashboard",label:"Dashboard",icon:o.A},{id:"users",label:"Users",icon:x.A},{id:"products",label:"Products",icon:p.A},{id:"orders",label:"Orders",icon:m.A},{id:"coupons",label:"Coupons",icon:u.A},{id:"reviews",label:"Reviews",icon:h.A},{id:"categories",label:"Categories",icon:g.A}].map(s=>{let r=s.icon;return"categories"===s.id?(0,a.jsxs)("button",{onClick:()=>H.push("/admin/addcategory"),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors text-vibe-brown hover:bg-gray-100",children:[(0,a.jsx)(r,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:s.label})]},s.id):(0,a.jsxs)("button",{onClick:()=>{t(s.id),U(1),F(""),B("")},className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ".concat(e===s.id?"bg-vibe-cookie text-vibe-brown":"text-vibe-brown hover:bg-gray-100"),children:[(0,a.jsx)(r,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:s.label})]},s.id)})}),"dashboard"===e&&k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-vibe-cookie",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(x.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-vibe-brown",children:k.stats.totalUsers})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-vibe-cookie",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(p.A,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-vibe-brown",children:k.stats.totalProducts})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-vibe-cookie",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(m.A,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-vibe-brown",children:k.stats.totalOrders})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-vibe-cookie",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(b.A,{className:"h-6 w-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-vibe-brown",children:["₹",k.stats.totalRevenue.toLocaleString()]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-vibe-brown",children:"Recent Orders"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.recentOrders&&k.recentOrders.length>0?k.recentOrders.map(e=>{var t,s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-vibe-brown font-medium",children:e.orderNumber||e._id}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[null==(t=e.user)?void 0:t.firstName," ",null==(s=e.user)?void 0:s.lastName]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",e.total||0]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("delivered"===e.orderStatus?"bg-green-100 text-green-800":"pending"===e.orderStatus?"bg-yellow-100 text-yellow-800":"confirmed"===e.orderStatus?"bg-blue-100 text-blue-800":"processing"===e.orderStatus?"bg-purple-100 text-purple-800":"shipped"===e.orderStatus?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:e.orderStatus})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]},e._id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No recent orders found"})})})]})})]})]}),"users"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-vibe-brown",children:"User Management"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users...",value:z,onChange:e=>F(e.target.value),className:"pl-10 pr-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie"})]}),(0,a.jsxs)("select",{value:J,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-vibe-brown font-medium",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.phone||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,a.jsx)("button",{onClick:()=>$(e._id,e.isActive),className:"px-3 py-1 rounded-md text-xs font-medium ".concat(e.isActive?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"),children:e.isActive?"Deactivate":"Activate"}),(0,a.jsx)("button",{onClick:()=>es("users",e._id),className:"px-3 py-1 bg-red-100 text-red-800 hover:bg-red-200 rounded-md text-xs font-medium",children:"Delete"})]})]},e._id))})]})})})]}),"products"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-vibe-brown",children:"Product Management"}),(0,a.jsxs)("button",{onClick:()=>H.push("/admin/createProduct"),className:"flex items-center space-x-2 bg-vibe-cookie text-vibe-brown px-4 py-2 rounded-md hover:bg-vibe-brown hover:text-white transition-colors",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Add Product"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search products...",value:z,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie"})]}),(0,a.jsxs)("select",{value:J,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:[(0,a.jsx)("option",{value:"",children:"All Products"}),(0,a.jsx)("option",{value:"inStock",children:"In Stock"}),(0,a.jsx)("option",{value:"outOfStock",children:"Out of Stock"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Range"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>{var t,s,r,i,c,l,d,o;let x=null!=(l=e.minPrice)?l:(null==(t=e.sizes)?void 0:t.length)?Math.min(...e.sizes.map(e=>e.price)):0,p=null!=(d=e.maxPrice)?d:(null==(s=e.sizes)?void 0:s.length)?Math.max(...e.sizes.map(e=>e.price)):0,m=null!=(o=e.totalStock)?o:(null==(r=e.sizes)?void 0:r.length)?e.sizes.reduce((e,t)=>e+(t.stock||0),0):0;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,a.jsx)(n.default,{className:"h-10 w-10 rounded-full object-cover",src:(null==(i=e.images)?void 0:i[0])||e.image||"/images/placeholder.jpg",alt:e.name,width:40,height:40})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-vibe-brown",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[null==(c=e.description)?void 0:c.substring(0,50),"..."]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",x,p!==x?" - ₹".concat(p):""]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(m>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:m>0?"".concat(m," in stock"):"Out of stock"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,a.jsx)("button",{onClick:()=>H.push("/admin/editProduct?id=".concat(e._id)),className:"px-3 py-1 bg-blue-100 text-blue-800 hover:bg-blue-200 rounded-md text-xs font-medium",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>es("products",e._id),className:"px-3 py-1 bg-red-100 text-red-800 hover:bg-red-200 rounded-md text-xs font-medium",children:"Delete"})]})]},e._id)})})]})})})]}),"orders"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-vibe-brown",children:"Order Management"})}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search orders...",value:z,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie"})]}),(0,a.jsxs)("select",{value:J,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:[(0,a.jsx)("option",{value:"",children:"All Orders"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>{var t,s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-vibe-brown font-medium",children:e.orderNumber||e._id}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[null==(t=e.user)?void 0:t.firstName," ",null==(s=e.user)?void 0:s.lastName]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",e.total]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("delivered"===e.orderStatus?"bg-green-100 text-green-800":"shipped"===e.orderStatus?"bg-blue-100 text-blue-800":"processing"===e.orderStatus?"bg-yellow-100 text-yellow-800":"cancelled"===e.orderStatus?"bg-red-100 text-red-800":"returned"===e.orderStatus?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.orderStatus})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)("div",{className:"flex flex-col space-y-2",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("select",{value:e.orderStatus,onChange:t=>ee(e._id,t.target.value),className:"px-2 py-1 border border-vibe-cookie rounded-md text-xs focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:["pending"===e.orderStatus&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),"processing"===e.orderStatus&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),"shipped"===e.orderStatus&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"})]}),"delivered"===e.orderStatus&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"returned",children:"Returned"})]}),"cancelled"===e.orderStatus&&(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),"returned"===e.orderStatus&&(0,a.jsx)("option",{value:"returned",children:"Returned"})]}),(0,a.jsx)("button",{className:"px-3 py-1 bg-blue-100 text-blue-800 hover:bg-blue-200 rounded-md text-xs font-medium",onClick:()=>H.push("/track-order?orderId=".concat(e.orderNumber||e._id)),children:"Track"})]})})})]},e._id)})})]})})})]}),"coupons"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-vibe-brown",children:"Coupon Management"}),(0,a.jsxs)("a",{href:"/admin/addcoupon",className:"flex items-center space-x-2 bg-vibe-cookie text-vibe-brown px-4 py-2 rounded-md hover:bg-vibe-brown hover:text-white transition-colors",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Add Coupon"})]})]}),(0,a.jsx)("div",{className:"flex space-x-4",children:(0,a.jsxs)("select",{value:J,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:[(0,a.jsx)("option",{value:"",children:"All Coupons"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-vibe-brown font-medium",children:e.code}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"percentage"===e.type?"".concat(e.discount,"%"):"₹".concat(e.discount)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",e.minOrderAmount||0]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.usedCount||0," / ",-1===e.usageLimit?"∞":e.usageLimit]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 bg-blue-100 text-blue-800 hover:bg-blue-200 rounded-md text-xs font-medium",onClick:()=>H.push("/admin/editcoupon?id=".concat(e._id)),children:"Edit"}),(0,a.jsx)("button",{onClick:()=>es("coupons",e._id),className:"px-3 py-1 bg-red-100 text-red-800 hover:bg-red-200 rounded-md text-xs font-medium",children:"Delete"})]})]},e._id))})]})})})]}),"reviews"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-vibe-brown",children:"Review Management"})}),(0,a.jsx)("div",{className:"flex space-x-4",children:(0,a.jsxs)("select",{value:J,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-vibe-cookie rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie",children:[(0,a.jsx)("option",{value:"",children:"All Reviews"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-vibe-cookie overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-vibe-brown font-medium",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:e.userName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.userEmail})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.productImage&&(0,a.jsx)(n.default,{src:e.productImage,alt:e.productName,className:"w-8 h-8 rounded object-cover",width:32,height:32}),(0,a.jsx)("span",{children:e.productName})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.orderNumber}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)("span",{className:"text-lg ".concat(s<e.rating?"text-yellow-400":"text-gray-300"),children:"★"},s)),(0,a.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:["(",e.rating,")"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:e.title}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 rounded-md text-xs font-medium ".concat(e.isActive?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"),onClick:()=>et(e.id,!e.isActive),children:e.isActive?"Deactivate":"Activate"}),(0,a.jsx)("button",{className:"px-3 py-1 bg-blue-100 text-blue-800 hover:bg-blue-200 rounded-md text-xs font-medium",onClick:()=>(e=>{alert("\nReview Details:\nCustomer: ".concat(e.userName," (").concat(e.userEmail,")\nProduct: ").concat(e.productName,"\nOrder: ").concat(e.orderNumber,"\nRating: ").concat(e.rating,"/5 stars\nTitle: ").concat(e.title,"\nComment: ").concat(e.comment,"\nDate: ").concat(new Date(e.date).toLocaleDateString(),"\nStatus: ").concat(e.isActive?"Active":"Inactive","\nVerified: ").concat(e.verified?"Yes":"No","\n    "))})(e),children:"View"})]})]},e.id))})]})})})]}),q>1&&(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsxs)("nav",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>U(Math.max(1,L-1)),disabled:1===L,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,q)},(e,t)=>{let s=t+1;return(0,a.jsx)("button",{onClick:()=>U(s),className:"px-3 py-2 text-sm font-medium rounded-md ".concat(L===s?"bg-vibe-cookie text-vibe-brown":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:s},s)}),(0,a.jsx)("button",{onClick:()=>U(Math.min(q,L+1)),disabled:L===q,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})},f=(0,r.default)(()=>Promise.resolve(y),{ssr:!1,loading:()=>(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-vibe-bg text-vibe-brown",children:"Loading..."})})},5899:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>c,d:()=>n});var a=s(5155),r=s(2115);let i=(0,r.createContext)(),c=e=>{let{children:t}=e,[s,c]=(0,r.useState)([]),n=e=>{c(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)(i.Provider,{value:{addToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=Date.now()+Math.random();c(a=>[...a,{id:s,message:e,type:t}]),setTimeout(()=>{n(s)},3e3)}},children:[t,(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map(e=>(0,a.jsx)("div",{className:"px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ".concat("success"===e.type?"bg-green-500 text-white":"error"===e.type?"bg-red-500 text-white":"bg-vibe-cookie text-vibe-brown"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,a.jsx)("button",{onClick:()=>n(e.id),className:"ml-4 text-white hover:text-gray-200",children:"\xd7"})]})},e.id))})]})},n=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e}}},e=>{e.O(0,[197,496,441,964,358],()=>e(e.s=1991)),_N_E=e.O()}]);