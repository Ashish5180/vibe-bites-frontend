(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{220:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var l=t(5155),a=t(2115),i=t(6766),n=t(6874),c=t.n(n),r=t(2971),o=t(454),d=t(977),x=t(5899),b=t(9946);let m=(0,b.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var h=t(4416);let v=()=>{let[e,s]=(0,a.useState)(""),{applyCoupon:t,removeCoupon:i,appliedCoupon:n}=(0,d._)(),{addToast:c}=(0,x.d)(),r=()=>{if(!e.trim())return void c("Please enter a coupon code","error");let l=t(e);l.success?(c(l.message,"success"),s("")):c(l.message,"error")};return(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"font-medium text-vibe-brown mb-3",children:"Have a coupon?"}),n?(0,l.jsxs)("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(m,{className:"h-4 w-4 text-green-600 mr-2"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-green-800",children:[n.code," applied"]})]}),(0,l.jsx)("button",{onClick:()=>{i(),c("Coupon removed","success")},className:"text-green-600 hover:text-green-800 transition-colors",children:(0,l.jsx)(h.A,{className:"h-4 w-4"})})]}):(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Enter coupon code",value:e,onChange:e=>s(e.target.value),className:"flex-1 px-3 py-2 border border-vibe-cookie/30 rounded-lg text-vibe-brown placeholder-vibe-brown/60 focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&r()}),(0,l.jsx)("button",{onClick:r,className:"px-4 py-2 bg-vibe-cookie text-vibe-brown rounded-lg hover:bg-vibe-accent transition-colors font-medium",children:"Apply"})]}),(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("p",{className:"text-xs text-vibe-brown/60 mb-2",children:"Available coupons:"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"text-xs text-vibe-brown/70",children:[(0,l.jsx)("span",{className:"font-medium",children:"VIBE10"})," - 10% off everything"]}),(0,l.jsxs)("div",{className:"text-xs text-vibe-brown/70",children:[(0,l.jsx)("span",{className:"font-medium",children:"MAKHANA20"})," - 20% off makhana products"]})]})]})]})},u=(0,b.A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var p=t(5169);let j=(0,b.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var f=t(4616),N=t(2525);let g=()=>{let{items:e,removeFromCart:s,updateQuantity:t,getCartTotal:n,appliedCoupon:b,removeCoupon:m}=(0,d._)(),{addToast:h}=(0,x.d)(),[g,w]=(0,a.useState)(""),[y,k]=(0,a.useState)([]),[A,C]=(0,a.useState)(!0);a.useEffect(()=>{(async()=>{try{let e=await fetch("https://vibebitstest-env.eba-ubvupniq.ap-south-1.elasticbeanstalk.com/api/coupons"),s=await e.json();e.ok&&s.success&&s.data&&s.data.coupons&&k(s.data.coupons)}catch(e){}C(!1)})()},[]);let S=(e,l,a)=>{a<=0?(s(e,l),h("Item removed from cart","success")):t(e,l,a)},M=e.reduce((e,s)=>e+s.price*s.quantity,0),_=n();return 0===e.length?(0,l.jsxs)("div",{className:"min-h-screen bg-vibe-bg",children:[(0,l.jsx)(r.default,{}),(0,l.jsx)("div",{className:"max-w-4xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16",children:(0,l.jsxs)("div",{className:"text-center flex flex-col items-center justify-center",children:[(0,l.jsx)(u,{className:"h-20 w-20 sm:h-24 sm:w-24 text-vibe-brown/40 mx-auto mb-6"}),(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-vibe-brown mb-4",children:"Your Cart is Empty"}),(0,l.jsx)("p",{className:"text-base sm:text-lg text-vibe-brown/70 mb-8",children:"Looks like you haven't added any snacks to your cart yet."}),(0,l.jsxs)(c(),{href:"/products",className:"inline-flex items-center justify-center px-8 py-4 bg-vibe-cookie text-vibe-brown font-semibold rounded-full hover:bg-vibe-accent transition-colors duration-300 shadow-lg hover:shadow-xl",children:[(0,l.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Continue Shopping"]})]})}),(0,l.jsx)(o.default,{})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-vibe-bg",children:[(0,l.jsx)(r.default,{}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-vibe-brown mb-2",children:"Shopping Cart"}),(0,l.jsxs)("p",{className:"text-vibe-brown/70",children:[e.length," item",1!==e.length?"s":""," in your cart"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-vibe-brown mb-6",children:"Cart Items"}),(0,l.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-vibe-bg rounded-xl",children:[(0,l.jsx)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:(0,l.jsx)(i.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-vibe-brown mb-1",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-vibe-brown/60 mb-2",children:["Size: ",e.selectedSize]}),(0,l.jsxs)("div",{className:"text-lg font-bold text-vibe-brown",children:["₹",e.price]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>S(e.id,e.selectedSize,e.quantity-1),className:"p-1 rounded-full bg-vibe-cookie text-vibe-brown hover:bg-vibe-accent transition-colors",children:(0,l.jsx)(j,{className:"h-4 w-4"})}),(0,l.jsx)("span",{className:"w-8 text-center font-semibold text-vibe-brown",children:e.quantity}),(0,l.jsx)("button",{onClick:()=>S(e.id,e.selectedSize,e.quantity+1),className:"p-1 rounded-full bg-vibe-cookie text-vibe-brown hover:bg-vibe-accent transition-colors",children:(0,l.jsx)(f.A,{className:"h-4 w-4"})})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)("div",{className:"font-bold text-vibe-brown",children:["₹",e.price*e.quantity]})}),(0,l.jsx)("button",{onClick:()=>{s(e.id,e.selectedSize),h("Item removed from cart","success")},className:"p-2 text-vibe-brown/60 hover:text-vibe-brown transition-colors",children:(0,l.jsx)(N.A,{className:"h-5 w-5"})})]},"".concat(e.id,"-").concat(e.selectedSize)))})]})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-vibe-brown mb-6",children:"Order Summary"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"font-medium text-vibe-brown mb-2",children:"Available Coupons"}),A?(0,l.jsx)("div",{className:"text-vibe-brown/60",children:"Loading coupons..."}):0===y.length?(0,l.jsx)("div",{className:"text-vibe-brown/60",children:"No coupons available."}):(0,l.jsx)("ul",{className:"space-y-2",children:y.map(e=>(0,l.jsxs)("li",{className:"bg-vibe-cookie/30 rounded-lg px-4 py-2 flex flex-col md:flex-row md:items-center justify-between",children:[(0,l.jsx)("span",{className:"font-semibold text-vibe-brown",children:e.code}),(0,l.jsx)("span",{className:"text-vibe-brown/80 text-sm",children:"percentage"===e.type?"".concat(e.discount,"% off"):"₹".concat(e.discount," off")}),e.validUntil&&(0,l.jsxs)("span",{className:"text-xs text-vibe-brown/60 ml-2",children:["Valid until: ",new Date(e.validUntil).toLocaleDateString()]})]},e._id))})]}),(0,l.jsx)(v,{}),(0,l.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between text-vibe-brown/70",children:[(0,l.jsx)("span",{children:"Subtotal"}),(0,l.jsxs)("span",{children:["₹",M]})]}),b&&(0,l.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,l.jsxs)("span",{children:["Discount (",b.code,")"]}),(0,l.jsxs)("span",{children:["-₹",M-_]})]}),(0,l.jsx)("div",{className:"border-t border-vibe-brown/20 pt-3",children:(0,l.jsxs)("div",{className:"flex justify-between text-lg font-bold text-vibe-brown",children:[(0,l.jsx)("span",{children:"Total"}),(0,l.jsxs)("span",{children:["₹",_]})]})})]}),(0,l.jsx)(c(),{href:"/checkout",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-vibe-cookie text-vibe-brown font-semibold rounded-full hover:bg-vibe-accent transition-colors duration-300 shadow-lg hover:shadow-xl",children:"Proceed to Checkout"}),(0,l.jsxs)(c(),{href:"/products",className:"w-full inline-flex items-center justify-center px-6 py-3 mt-4 border-2 border-vibe-cookie text-vibe-brown font-semibold rounded-full hover:bg-vibe-cookie transition-colors duration-300",children:[(0,l.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Continue Shopping"]})]})})]})]}),(0,l.jsx)(o.default,{})]})}},2525:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4616:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5169:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6890:(e,s,t)=>{Promise.resolve().then(t.bind(t,220))}},e=>{e.O(0,[874,197,814,441,964,358],()=>e(e.s=6890)),_N_E=e.O()}]);