(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1007:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1264:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2657:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2919:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4938:(e,s,t)=>{"use strict";t.d(s,{K:()=>a,e:()=>r});let r=()=>"https://vibe-bites-backend.onrender.com/api",a=e=>{let s=r().replace(/\/$/,""),t=e.replace(/^\//,"");return"".concat(s,"/").concat(t)}},5899:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>o,d:()=>l});var r=t(5155),a=t(2115);let i=(0,a.createContext)(),o=e=>{let{children:s}=e,[t,o]=(0,a.useState)([]),l=e=>{o(s=>s.filter(s=>s.id!==e))};return(0,r.jsxs)(i.Provider,{value:{addToast:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=Date.now()+Math.random();o(r=>[...r,{id:t,message:e,type:s}]),setTimeout(()=>{l(t)},3e3)}},children:[s,(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,r.jsx)("div",{className:"px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ".concat("success"===e.type?"bg-green-500 text-white":"error"===e.type?"bg-red-500 text-white":"bg-vibe-cookie text-vibe-brown"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,r.jsx)("button",{onClick:()=>l(e.id),className:"ml-4 text-white hover:text-gray-200",children:"\xd7"})]})},e.id))})]})},l=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},7365:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(2115),i=t(5695),o=t(6874),l=t.n(o),n=t(6766),c=t(1007),d=t(1264),m=t(2919),u=t(8749),x=t(2657),h=t(5899),b=t(4938);let p=()=>{let[e,s]=(0,a.useState)({email:"",password:""}),[t,o]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),y=(0,i.useRouter)(),{addToast:w}=(0,h.d)(),j=t=>{s({...e,[t.target.name]:t.target.value})},N=async s=>{s.preventDefault(),f(!0);try{let s=v?"/auth/register":"/auth/login",r=await fetch((0,b.K)(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),a=await r.json().catch(()=>({}));if(r.ok&&a.success)w(v?"Registration successful! Please check your email for verification.":"Login successful!","success"),a.data&&a.data.user&&"undefined"!=typeof localStorage&&(localStorage.setItem("user",JSON.stringify(a.data.user)),a.token&&localStorage.setItem("token",a.token)),"admin"===a.data.user.role?y.push("/admin"):y.push("/");else{var t;if((null==a||null==(t=a.errors)?void 0:t.length)?a.errors.slice(0,5).forEach(e=>w(e.msg||e.message,"error")):(null==a?void 0:a.message)?w(a.message,"error"):w("Request failed. Check inputs.","error"),v){let s=[];e.firstName||s.push("First name required"),e.lastName||s.push("Last name required"),/[A-Z]/.test(e.password)&&/[a-z]/.test(e.password)&&/\d/.test(e.password)||s.push("Password needs uppercase, lowercase & number"),s.length&&s.forEach(e=>w(e,"error"))}}}catch(e){console.error("Auth error:",e),w("Network error. Please try again.","error")}finally{f(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-vibe-bg flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"relative w-32 h-16",children:(0,r.jsx)(n.default,{src:"/images/logo.jpeg",alt:"VIBE BITES",fill:!0,className:"object-contain",priority:!0})})}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-bold text-vibe-brown",children:v?"Create Account":"Sign In"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:v?"Join VIBE BITES and discover amazing snacks!":"Welcome back to VIBE BITES!"})]}),(0,r.jsxs)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg border border-vibe-cookie",children:[(0,r.jsxs)("form",{className:"space-y-6",onSubmit:N,children:[v&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-vibe-brown",children:"First Name"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e.firstName||"",onChange:j,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"First Name"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-vibe-brown",children:"Last Name"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:e.lastName||"",onChange:j,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"Last Name"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-vibe-brown",children:"Email Address"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:j,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"Enter your email"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-vibe-brown",children:"Password"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,r.jsx)("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:v?"new-password":"current-password",required:!0,value:e.password,onChange:j,className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-vibe-cookie placeholder-gray-500 text-vibe-brown rounded-md focus:outline-none focus:ring-2 focus:ring-vibe-cookie focus:border-transparent",placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>o(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,r.jsx)(u.A,{className:"h-5 w-5"}):(0,r.jsx)(x.A,{className:"h-5 w-5"})})]})]}),!v&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-vibe-cookie focus:ring-vibe-cookie border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)(l(),{href:"/forgot-password",className:"font-medium text-vibe-cookie hover:text-vibe-brown",children:"Forgot your password?"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-vibe-cookie hover:bg-vibe-brown focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-vibe-cookie disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),v?"Creating Account...":"Signing In..."]}):v?"Create Account":"Sign In"})})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:v?"Already have an account?":"Don't have an account?"})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:()=>{g(!v),s({email:"",password:""})},className:"w-full flex justify-center py-2 px-4 border border-vibe-cookie text-sm font-medium rounded-md text-vibe-cookie bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-vibe-cookie transition-colors",children:v?"Sign In Instead":"Create New Account"})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(l(),{href:"/",className:"text-sm text-vibe-cookie hover:text-vibe-brown transition-colors",children:"← Back to Home"})})]})]})})}},8749:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9793:(e,s,t)=>{Promise.resolve().then(t.bind(t,7365))}},e=>{e.O(0,[874,197,441,964,358],()=>e(e.s=9793)),_N_E=e.O()}]);